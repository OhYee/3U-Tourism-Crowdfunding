{% if pos %}
<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.2"></script>

<div id="container" style="height:500px;width:500px"></div>

<script type="text/javascript">  
    var map = new BMap.Map("container");          // 创建地图实例 

    //通过经纬度坐标来初始化地图
    var point = new BMap.Point({{ pos["lng"] }}, {{ pos["lat"] }});  // 创建点坐标 
    map.centerAndZoom(point, 15);                 // 初始化地图，设置中心点坐标和地图级别 

    map.enableScrollWheelZoom();  // 开启鼠标滚轮缩放  
    map.enableKeyboard();         // 开启键盘控制  
    map.enableContinuousZoom();   // 开启连续缩放效果  
    map.enableInertialDragging(); // 开启惯性拖拽效果

    map.addControl(new BMap.NavigationControl());   //添加标准地图控件(左上角的放大缩小左右拖拽控件)
    map.addControl(new BMap.ScaleControl());        //添加比例尺控件(左下角显示的比例尺控件)
    map.addControl(new BMap.OverviewMapControl());  // 缩略图控件
    map.addControl(new BMap.MapTypeControl());      // 仅当设置城市信息时，MapTypeControl的切换功能才能可用

    // map.addEventListener("moveend", function () {
    //     pos = map.getCenter()
    //     console.log("(", pos.lng, ",", pos.lat, ")")
    // });
</script>
{% endif %}